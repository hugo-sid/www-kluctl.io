{{/* 
	File: layouts/partials/docs/doc-nav.html
	Description: This partial defines the docs navigation before the footer 
*/}}

{{- $reversePagination := .Scratch.Get "reversePagination" | default false -}}

{{- $prev := cond $reversePagination .PrevInSection .NextInSection -}}
{{- $next := cond $reversePagination .NextInSection .PrevInSection -}}

{{- if eq .Params.prev false }}
  {{- if $reversePagination }}{{ $next = false }}{{ else }}{{ $prev = false }}{{ end -}}
{{ else }}
  {{- with .Params.prev -}}
    {{- with $.Site.GetPage . -}}
      {{- if $reversePagination }}{{ $next = . }}{{ else }}{{ $prev = . }}{{ end -}}
    {{- end -}}
  {{- end -}}
{{- end -}}

{{- if eq .Params.next false }}
  {{- if $reversePagination }}{{ $prev = false }}{{ else }}{{ $next = false }}{{ end -}}
{{ else }}
  {{- with .Params.next -}}
    {{- with $.Site.GetPage . -}}
      {{- if $reversePagination }}{{ $prev = . }}{{ else }}{{ $next = . }}{{ end -}}
    {{- end -}}
  {{- end -}}
{{- end -}}

<div id="doc-nav" class="d-print-none">
{{- if or $prev $next -}}
<hr class="doc-hr my-5">
    <div class="row flex-xl-nowrap {{ if .Next }}{{ else }}{{ end }}">
	{{ with $prev -}}
        <div class="col-sm-6 pt-2 doc-next">
		<a href="{{ .RelPermalink }}">
			<div class="card h-100 my-1">
				<div class="card-body py-2">
                    <p class="card-title fs-5 fw-semibold lh-base mb-0">
						<i class="material-icons align-middle">navigate_before</i>
						{{ .Title }}
					</p>
					{{ if eq .Site.Params.docs.navDesc true -}}
                    	<p class="card-text ms-2">{{ .Description | truncate (.Site.Params.docs.navDescTrunc | default 40) }}</p>
					{{ end }}
				</div>
			</div>
		</a>
        </div>
	{{ end -}}
	{{ with $next -}}
        <div class="col-sm-6 pt-2 doc-prev">
		<a class="ms-auto" href="{{ .RelPermalink }}">
			<div class="card h-100 my-1 text-end">
				<div class="card-body py-2">
                    <p class="card-title fs-5 fw-semibold lh-base mb-0">
						{{ .Title }}
						<i class="material-icons align-middle">navigate_next</i>
					</p>
					{{ if eq .Site.Params.docs.navDesc true -}}
                    	<p class="card-text me-2">{{ .Description | truncate (.Site.Params.docs.navDescTrunc | default 40) }}</p>
					{{ end }}
				</div>
			</div>
		</a>
        </div>
	{{ end -}}
    </div>
{{ end -}}
</div>